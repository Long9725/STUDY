## 목차

1. [논리적 설계](#논리적-설계)
2. [규칙](#규칙)
3. [복합 및 유도 속성](#복합-및-유도-속성)
4. [일반화 관계](#일반화-관계)
5. [테이블 명세서 작성](#테이블-명세서-작성)
6. [References](#references)

## 논리적 설계
DBMS에 적합한 논리적 스키마를 설계한다. 개념적 스키마를 논리적 데이터 모델을 이용하여 논리적 구조로 표현한다. 이를 논리적 모델링이라고 한다. 일반적으로 관계 데이터 모델을 많이 사용한다. 

+ 개념적 설계 단계의 결과물인 E-R 다이어그램을 릴레이션 스키마로 변환한다.
+ 릴레이션 스키마로 변환 후, 속성의 데이터 타입과 널 값 허용 여부, 기본 값, 제약 조건 등을 세부적으로 결정하고 결과를 문서화시킨다.

## 규칙

1. 모든 개체는 릴레이션으로 변환한다.
2. 다대다(N:M) 관계는 릴레이션으로 변환한다.
3. 일대다(1:M) 관계는 외래키로 표현한다.
4. 일대일(1:1) 관계는 외래키로 표현한다.
5. 다중 값 속성은 릴레이션으로 표현한다.

변환 규칙을 순서대로 적용하되, 해당하지 않는 규칙은 제외한다. 모든 관계는 독립적인 릴레이션으로 변환할 수 있다. 따라서 속성이 많은 관계는 유형에 상관없이 릴레이션으로의 변환을 고려할 수 있다.

### 규칙 1
"모든 개체는 릴레이션으로 변환한다.", E-R 다이어그램의 각 개체를 릴레이션으로 변환한다.
+ 개체의 이름 -> 릴레이션 이름
+ 개체의 속성 -> 릴레이션 속성
+ 개체의 키 속성 -> 릴레이션의 기본키
+ 개체의 속성이 복합 속성인 경우에는 복합 속성을 구성하고 있는 단순 속성만 릴레이션의 속성으로 변환한다.

### 규칙 2
"다대다(N:M) 관계는 릴레이션으로 변환한다.", E-R 다이어그램의 다대다 관계를 하나의 릴레이션으로 변환한다.
+ 관계의 이름 -> 릴레이션 이름
+ 관계의 속성 -> 릴레이션 속성
+ 관계에 참여하는 개체를 규칙 1에 따라 릴레이션으로 변환한 후, 이 릴레이션의 기본키를 관계 릴레이션에 포함하여 외래키로 지정한다. 이후 외래키들을 조합하여 관계 릴레이션의 기본키로 지정한다.

### 규칙 3
"일대다(1:M) 관계는 외래키로 표현한다.", E-R 다이어그램의 일대다 관계는 외래키로만 표현한다.
+ 일반적인 일대다 관계는 외래키로 표현한다.
    + 일대다 관계에서 1측 개체 릴레이션의 기본키를 n측 개체 릴레이션에 포함시켜 외래키로 지정한다.
    + 관계의 속성들도 n측 개체 릴레이션에 포함시킨다.
+ 약한 개체가 참여하는 일대다 관계는 외래키를 포함해서 기본키로 지정한다.
    + n측 개체 릴레이션은 외래키를 포함하여 기본키로 지정한다.
+ 순환 관계가 갖고 있던 모든 속성도 릴레이션의 속성으로 추가하여 포함한다.
    + 일대다 관계는 하나의 외래키 속성으로 변환한다.
    + 기본키를 같은 릴레이션의 외래키 속성으로 추가하여 포함하고, 기본키와 다르게 변경한다.
    + 순환 관계가 가지고 있는 모든 속성도 릴레이션의 속성으로 추가하여 포함시킨다.

### 규칙 4
"일대일(1:1) 관계는 외래키로 표현한다.", E-R 다이어그램의 일대일 관계는 외래키로만 표현한다.
+ 일반적인 일대일 관계는 외래키를 서로 주고 받는다.
    + 관계에 참여하는 개체 릴레이션이들이 서로의 기본키를 주고 받아 외래키로 지정한다.
    + 관계의 속성들도 모든 개체 릴레이션에 포함시킨다.
    + 불필요한 데이터 중복이 발생할 수 있다.
+ 일대일 관계에 필수적으로 참여하는 개체의 릴레이션만 외래키를 받는다.
    + 관계에 필수적으로 참여하는 개체 릴레이션에만 외래키를 포함시킨다.
    + 관계의 속성들은 관계에 필수적으로 참여하는 개체 릴레이션에 포함시킨다.
+ 모든 개체가 일대일 관계에 필수적으로 참여하면 릴레이션 하나로 합친다.
    + 관계의 이름을 릴레이션 이름으로 사용하고, 관계에 참여하는 두 개체의 속성들을 관계 릴레이션에 모두 포함시킨다.
    + 두 개체 릴레이션의 키 속성을 조합하여 관계 릴레이션의 기본키로 지정한다.

### 규칙 5
"다중 값 속성은 릴레이션으로 표현한다.", E-R 다이어그램의 다중값 속성은 독립적인 릴레이션으로 변환한다.
+ 다중 값 속성은 하나의 새로운 릴레이션으로 분리하여 변환한다.
    + 새로운 릴레이션은 다중 값 속성이 변환된 값으로 키 속성이 없으므로, 분리 전 개체 릴레이션의 키 속성을 외래키로 포함한다.
    + 다중 값 속성과 외래키를 조합하여 새로운 기본키로 지정한다.
    + 다중 값 속성은 더이상 다중 값을 갖지 않게 된다.
+ 다중 값 속성이 갖는 최대 속성 값의 개수만큼 속성 이름만 다르게 여러 속성을 추가로 생성한다.


## 복합 및 유도 속성
+ 복합 속성은 기본적으로 복합 속성을 구성하는 가장 하위의 단순 속성들만 릴레이션의 속성으로 변환한다.
+ 유도 속성은 중복을 최소화하기 위해 변환 과정에서 제외한다. 
+ 복합, 유도 속성에 대하여, 검색 빈도에 따라 속성의 중복을 허용할 것인지를 결정한다. 그리고 변경이 없는지도 고려한다.

## 일반화 관계
+ 상위 개체와 하위 개체를 모두 각각 다른 릴레이션으로 변환한다.
    + 일반화 관계는 하위 개체 릴레이션에 각각 상위 개체의 기본키 속성을 가져와 외래키 속성으로 추가한다.
    + 하위 개체인 릴레이션이 모두 키 속성이 없는 경우, 추가된 외래키 속성을 기본키 속성으로 지정한다.
    + 상위, 하위 개체의 속성도 각 릴레이션의 속성으로 변환한다.
+ 3개 개체를 상위 개체에 해당하는 하나의 릴레이션으로 변환한다.
    + 일반화 관계는 상위 개체 릴레이션의 속성으로 추가하여 변환한다.
    + 하위 개체의 속성들도 상위 릴레이션의 속성으로 추가하여 변환한다.
+ 3개 개체를 하위 개체에 해당하는 2개의 릴레이션으로 변환한다.
    + 상위 개체의 모든 속성들은 2개의 하위 개체 릴레이션의 속성으로 상속하여 모두 포함한다.
    + 하위 개체 릴레이션의 키 속성이 없는 경우, 상속된 상위 개체의 기본키 속성을 그대로 기본키로 지정한다.
    + 하위 개체의 속성들도 각 개체의 릴레이션의 속성으로 변환한다.

## 테이블 명세서 작성
릴레이션 스키마에 대한 설계 정보를 기술한 문서를 작성한다. 속성의 데이터 타입과 널 값 허용 여부, 기본 값, 제약 조건 등을 세부적으로 결정하고 결과를 문서화시킨다.
+ 기본키는 일반적으로 기본 값을 지정하지 않는다. 기본 값을 지정 시, 중복이 발생할 수있다.

## References
* 2022 봄 데이터베이스 강의